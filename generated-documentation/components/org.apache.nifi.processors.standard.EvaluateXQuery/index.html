<!DOCTYPE html><html lang="en"><!--Licensed to the Apache Software Foundation (ASF) under one or more
      contributor license agreements.  See the NOTICE file distributed with
      this work for additional information regarding copyright ownership.
      The ASF licenses this file to You under the Apache License, Version 2.0
      (the "License"); you may not use this file except in compliance with
      the License.  You may obtain a copy of the License at
          http://www.apache.org/licenses/LICENSE-2.0
      Unless required by applicable law or agreed to in writing, software
      distributed under the License is distributed on an "AS IS" BASIS,
      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      See the License for the specific language governing permissions and
      limitations under the License.--><head><meta charset="utf-8"></meta><title>EvaluateXQuery</title><link rel="stylesheet" href="../../css/component-usage.css" type="text/css"></link></head><body><h2>Description: </h2><p>Evaluates one or more XQueries against the content of a FlowFile.  The results of those XQueries are assigned to FlowFile Attributes or are written to the content of the FlowFile itself, depending on configuration of the Processor.  XQueries are entered by adding user-defined properties; the name of the property maps to the Attribute Name into which the result will be placed (if the Destination is 'flowfile-attribute'; otherwise, the property name is ignored).  The value of the property must be a valid XQuery.  If the XQuery returns more than one result, new attributes or FlowFiles (for Destinations of 'flowfile-attribute' or 'flowfile-content' respectively) will be created for each result (attributes will have a '.n' one-up number appended to the specified attribute name).  If any provided XQuery returns a result, the FlowFile(s) will be routed to 'matched'. If no provided XQuery returns a result, the FlowFile will be routed to 'unmatched'.  If the Destination is 'flowfile-attribute' and the XQueries matche nothing, no attributes will be applied to the FlowFile.</p><p><a href="additionalDetails.html">Additional Details...</a></p><p>Tags: XML, evaluate, XPath, XQuery, experimental</p><p><strong>Properties: </strong></p><p>In the list below, the names of required properties appear in <strong>bold</strong>. Anyother properties (not in bold) are considered optional. The table also indicates any default values, whether a property supports the <a href="../../html/expression-language-guide.html">NiFi Expression Language (or simply EL)</a>, and whether a property is considered "sensitive", meaning that its value will be encrypted. Before entering a value in a sensitive property, ensure that the <strong>nifi.properties</strong> file has an entry for the property <strong>nifi.sensitive.props.key</strong>.</p><table><tr><th>Name</th><th>Description</th><th>Default Value</th><th>Valid Values</th><th><a href="../../html/expression-language-guide.html">EL</a></th><th>Sensitive</th></tr><tr><td><strong>Destination</strong></td><td>Indicates whether the results of the XQuery evaluation are written to the FlowFile content or a FlowFile attribute. If set to &lt;flowfile-content&gt;, only one XQuery may be specified and the property name is ignored.  If set to &lt;flowfile-attribute&gt; and the XQuery returns more than one result, multiple attributes will be added to theFlowFile, each named with a '.n' one-up number appended to the specified attribute name</td><td>flowfile-content</td><td><ul><li>flowfile-content</li><li>flowfile-attribute</li></ul></td><td>No</td><td>No</td></tr><tr><td><strong>Output: Method</strong></td><td>Identifies the overall method that should be used for outputting a result tree.</td><td>xml</td><td><ul><li>xml</li><li>html</li><li>text</li></ul></td><td>No</td><td>No</td></tr><tr><td><strong>Output: Omit XML Declaration</strong></td><td>Specifies whether the processor should output an XML declaration when transforming a result tree.</td><td>false</td><td></td><td>No</td><td>No</td></tr><tr><td><strong>Output: Indent</strong></td><td>Specifies whether the processor may add additional whitespace when outputting a result tree.</td><td>false</td><td></td><td>No</td><td>No</td></tr></table><p><strong>Relationships: </strong></p><table><tr><th>Name</th><th>Description</th></tr><tr><td>matched</td><td>FlowFiles are routed to this relationship when the XQuery is successfully evaluated and the FlowFile is modified as a result</td></tr><tr><td>unmatched</td><td>FlowFiles are routed to this relationship when the XQuery does not match the content of the FlowFile and the Destination is set to flowfile-content</td></tr><tr><td>failure</td><td>FlowFiles are routed to this relationship when the XQuery cannot be evaluated against the content of the FlowFile.</td></tr></table></body></html>