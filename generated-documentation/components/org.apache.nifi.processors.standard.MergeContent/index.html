<!DOCTYPE html><html lang="en"><!--Licensed to the Apache Software Foundation (ASF) under one or more
      contributor license agreements.  See the NOTICE file distributed with
      this work for additional information regarding copyright ownership.
      The ASF licenses this file to You under the Apache License, Version 2.0
      (the "License"); you may not use this file except in compliance with
      the License.  You may obtain a copy of the License at
          http://www.apache.org/licenses/LICENSE-2.0
      Unless required by applicable law or agreed to in writing, software
      distributed under the License is distributed on an "AS IS" BASIS,
      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      See the License for the specific language governing permissions and
      limitations under the License.--><head><meta charset="utf-8"></meta><title>MergeContent</title><link rel="stylesheet" href="../../css/component-usage.css" type="text/css"></link></head><body><h2>Description: </h2><p>Merges a Group of FlowFiles together based on a user-defined strategy and packages them into a single FlowFile. It is recommended that the Processor be configured with only a single incoming connection, as Group of FlowFiles will not be created from FlowFiles in different connections. This processor updates the mime.type attribute as appropriate.</p><p><a href="additionalDetails.html">Additional Details...</a></p><p>Tags: merge, content, correlation, tar, zip, stream, concatenation, archive, flowfile-stream, flowfile-stream-v3</p><p><strong>Properties: </strong></p><p>In the list below, the names of required properties appear in <strong>bold</strong>. Anyother properties (not in bold) are considered optional. The table also indicates any default values, whether a property supports the <a href="../../html/expression-language-guide.html">NiFi Expression Language (or simply EL)</a>, and whether a property is considered "sensitive", meaning that its value will be encrypted. Before entering a value in a sensitive property, ensure that the <strong>nifi.properties</strong> file has an entry for the property <strong>nifi.sensitive.props.key</strong>.</p><table><tr><th>Name</th><th>Description</th><th>Default Value</th><th>Valid Values</th><th><a href="../../html/expression-language-guide.html">EL</a></th><th>Sensitive</th></tr><tr><td><strong>Merge Strategy</strong></td><td>Specifies the algorithm used to merge content. The 'Defragment' algorithm combines fragments that are associated by attributes back into a single cohesive FlowFile. The 'Bin-Packing Algorithm' generates a FlowFile populated by arbitrarily chosen FlowFiles</td><td>Bin-Packing Algorithm</td><td><ul><li>Bin-Packing Algorithm</li><li>Defragment</li></ul></td><td>No</td><td>No</td></tr><tr><td><strong>Merge Format</strong></td><td>Determines the format that will be used to merge the content.</td><td>Binary Concatenation</td><td><ul><li>TAR</li><li>ZIP</li><li>FlowFile Stream, v3</li><li>FlowFile Stream, v2</li><li>FlowFile Tar, v1</li><li>Binary Concatenation</li></ul></td><td>No</td><td>No</td></tr><tr><td><strong>Attribute Strategy</strong></td><td>Determines which FlowFile attributes should be added to the bundle. If 'Keep All Unique Attributes' is selected, any attribute on any FlowFile that gets bundled will be kept unless its value conflicts with the value from another FlowFile. If 'Keep Only Common Attributes' is selected, only the attributes that exist on all FlowFiles in the bundle, with the same value, will be preserved.</td><td>Keep Only Common Attributes</td><td><ul><li>Keep Only Common Attributes</li><li>Keep All Unique Attributes</li></ul></td><td>No</td><td>No</td></tr><tr><td>Correlation Attribute Name</td><td>If specified, like FlowFiles will be binned together, where 'like FlowFiles' means FlowFiles that have the same value for this Attribute. If not specified, FlowFiles are bundled by the order in which they are pulled from the queue.</td><td></td><td></td><td>No</td><td>No</td></tr><tr><td><strong>Minimum Number of Entries</strong></td><td>The minimum number of files to include in a bundle</td><td>1</td><td></td><td>No</td><td>No</td></tr><tr><td>Maximum Number of Entries</td><td>The maximum number of files to include in a bundle. If not specified, there is no maximum.</td><td></td><td></td><td>No</td><td>No</td></tr><tr><td><strong>Minimum Group Size</strong></td><td>The minimum size of for the bundle</td><td>0 B</td><td></td><td>No</td><td>No</td></tr><tr><td>Maximum Group Size</td><td>The maximum size for the bundle. If not specified, there is no maximum.</td><td></td><td></td><td>No</td><td>No</td></tr><tr><td>Max Bin Age</td><td>The maximum age of a Bin that will trigger a Bin to be complete. Expected format is &lt;duration&gt; &lt;time unit&gt; where &lt;duration&gt; is a positive integer and time unit is one of seconds, minutes, hours</td><td></td><td></td><td>No</td><td>No</td></tr><tr><td><strong>Maximum number of Bins</strong></td><td>Specifies the maximum number of bins that can be held in memory at any one time</td><td>100</td><td></td><td>No</td><td>No</td></tr><tr><td>Header File</td><td>Filename specifying the header to use. If not specified, no header is supplied. This property is valid only when using the binary-concatenation merge strategy; otherwise, it is ignored.</td><td></td><td></td><td>No</td><td>No</td></tr><tr><td>Footer File</td><td>Filename specifying the footer to use. If not specified, no footer is supplied. This property is valid only when using the binary-concatenation merge strategy; otherwise, it is ignored.</td><td></td><td></td><td>No</td><td>No</td></tr><tr><td>Demarcator File</td><td>Filename specifying the demarcator to use. If not specified, no demarcator is supplied. This property is valid only when using the binary-concatenation merge strategy; otherwise, it is ignored.</td><td></td><td></td><td>No</td><td>No</td></tr><tr><td><strong>Compression Level</strong></td><td>Specifies the compression level to use when using the Zip Merge Format; if not using the Zip Merge Format, this value is ignored</td><td>1</td><td><ul><li>0</li><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li></ul></td><td>No</td><td>No</td></tr><tr><td><strong>Keep Path</strong></td><td>If using the Zip or Tar Merge Format, specifies whether or not the FlowFiles' paths should be included in their entry names; if using other merge strategy, this value is ignored</td><td>false</td><td><ul><li>true</li><li>false</li></ul></td><td>No</td><td>No</td></tr></table><p><strong>Relationships: </strong></p><table><tr><th>Name</th><th>Description</th></tr><tr><td>merged</td><td>The FlowFile containing the merged content</td></tr><tr><td>original</td><td>The FlowFiles that were used to create the bundle</td></tr><tr><td>failure</td><td>If the bundle cannot be created, all FlowFiles that would have been used to created the bundle will be transferred to failure</td></tr></table></body></html>